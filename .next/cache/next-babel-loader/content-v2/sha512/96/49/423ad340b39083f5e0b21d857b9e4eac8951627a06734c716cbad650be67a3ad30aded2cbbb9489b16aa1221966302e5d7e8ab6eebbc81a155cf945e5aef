{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Rowen\\\\Desktop\\\\expo\\\\fscit-nextjs\\\\pages\\\\warehouse-management\\\\customer\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { DataGrid } from \"@material-ui/data-grid\";\nimport { Typography, Breadcrumbs, Link, Paper, makeStyles, TableBody, TableRow, TableCell, Toolbar, InputAdornment, Button, TextField, Grid, Checkbox, ListItemText, DialogActions } from \"@material-ui/core\";\nimport Popup from \"../../../components/Popup\";\nimport PageHeader from \"../../../components/PageHeader\";\nimport { PeopleAltTwoTone, PeopleOutlineTwoToneIcon } from \"@material-ui/icons\";\nimport CustomerForm from \"./CustomerForm\";\nimport EditOutlinedIcon from \"@material-ui/icons/EditOutlined\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Controls from \"../../../components/controls/Controls\";\nimport useTable from \"../../../components/useTable\";\nimport { Search } from \"@material-ui/icons\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport RadioButtonUncheckedRoundedIcon from \"@material-ui/icons/RadioButtonUncheckedRounded\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport axios from \"axios\";\nimport api from \"../../../Services/api\";\nimport PopDialog from \"../../../components/PopDialog\";\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      \"& .MuiFormControl-root\": {\n        width: \"80%\",\n        margin: theme.spacing(1)\n      }\n    },\n    pageContent: {\n      margin: theme.spacing(5),\n      padding: theme.spacing(2)\n    },\n    searchInput: {\n      width: \"50%\",\n      height: 40\n    },\n    newButton: {\n      position: \"absolute\",\n      right: \"36px\"\n    }\n  };\n});\nexport default function index() {\n  _s();\n\n  var _this = this;\n\n  var classes = useStyles();\n\n  var _useState = useState(null),\n      recordForEdit = _useState[0],\n      setRecordForEdit = _useState[1];\n\n  var _useState2 = useState(null),\n      recordForRemove = _useState2[0],\n      setRecordForRemove = _useState2[1];\n\n  var _useState3 = useState([]),\n      listrecordData = _useState3[0],\n      setlistRecordData = _useState3[1];\n\n  var _useState4 = useState({\n    fn: function fn(items) {\n      return items;\n    }\n  }),\n      filterFn = _useState4[0],\n      setFilterFn = _useState4[1];\n\n  var _useState5 = useState(false),\n      openDialog = _useState5[0],\n      setOpenDialog = _useState5[1];\n\n  var _useState6 = useState(false),\n      openPopup = _useState6[0],\n      setOpenPopup = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      captionDialog = _useState7[0],\n      setCaptionDialog = _useState7[1];\n\n  var headCells = [{\n    id: \"customer_code\",\n    label: \"Customer Code\"\n  }, {\n    id: \"customer_name\",\n    label: \"Customer Name\"\n  }, {\n    id: \"freshness_requirement\",\n    label: \"Freshness requirement\"\n  }, {\n    id: \"freshness_unit\",\n    label: \"Freshness Unit\"\n  }, {\n    id: \"customer_category\",\n    label: \"Category\"\n  }, {\n    id: \"status\",\n    label: \"Status\"\n  }, {\n    id: \"actions\",\n    label: \"Actions\",\n    disableSorting: true\n  }];\n\n  var _useTable = useTable(listrecordData, headCells, filterFn),\n      TblContainer = _useTable.TblContainer,\n      TblHead = _useTable.TblHead,\n      TblPagination = _useTable.TblPagination,\n      recordsAfterPagingAndSorting = _useTable.recordsAfterPagingAndSorting;\n\n  var DelopenHandlerDialog = function DelopenHandlerDialog(item) {\n    setRecordForRemove(item);\n    setCaptionDialog(item.customer_code);\n    setOpenDialog(true);\n  };\n\n  var removeItem = function removeItem() {\n    api.instance[\"delete\"](\"/wms/customer/customer-destroy/\" + recordForRemove.id).then(function (resp) {\n      console.log(resp.data);\n      refreshListData();\n    })[\"catch\"](function (err) {\n      console.log(err);\n    });\n    setOpenDialog(false);\n  };\n\n  var handleSearch = function handleSearch(e) {\n    var target = e.target;\n    setFilterFn({\n      fn: function fn(items) {\n        if (target.value == \"\") return items;else return items.filter(function (x) {\n          return x.customer_code.toLowerCase().includes(target.value) || x.customer_name.toLowerCase().includes(target.value) || x.customer_category.toLowerCase().includes(target.value);\n        });\n      }\n    });\n  };\n\n  var onSubmit = function onSubmit(values, resetForm) {\n    if (values.id == 0) api.instance.post(\"/wms/customer/customer-store\", values).then(function (resp) {\n      console.log(resp.data);\n      refreshListData();\n    })[\"catch\"](function (err) {\n      console.log(err);\n    });else {\n      api.instance.put(\"/wms/customer/customer-update/\" + values.id, values).then(function (resp) {\n        console.log(resp.data);\n        refreshListData();\n      })[\"catch\"](function (err) {\n        console.log(err);\n      });\n    }\n    resetForm();\n    setRecordForEdit(null);\n    setOpenPopup(false);\n  };\n\n  var openInPopup = function openInPopup(item) {\n    setRecordForEdit(item);\n    setOpenPopup(true);\n  };\n\n  var refreshListData = function refreshListData() {\n    var utoken = localStorage.getItem(\"token\");\n    api.instance.get(\"/wms/customer/customer-list\", {\n      headers: {\n        Authorization: \"Bearer \".concat(utoken),\n        Accept: \"application/json\"\n      }\n    }).then(function (resp) {\n      setlistRecordData(resp.data);\n      console.log(resp.data);\n    })[\"catch\"](function (err) {\n      console.log(err.data);\n    });\n  };\n\n  useEffect(function () {\n    refreshListData();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Breadcrumbs, {\n      \"aria-label\": \"breadcrumb\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        color: \"inherit\",\n        href: \"/\",\n        children: \"Home\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        color: \"inherit\",\n        href: \"/warehouse-management/\",\n        children: \"Warehouse Management\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        color: \"textPrimary\",\n        children: \"Customer Master\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Toolbar, {\n        children: /*#__PURE__*/_jsxDEV(Controls.Button, {\n          text: \"Add New\",\n          startIcon: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 24\n          }, this),\n          className: classes.newButton,\n          onClick: function onClick() {\n            setOpenPopup(true);\n            setRecordForEdit(null);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Paper, {\n      className: classes.pageContent,\n      children: [/*#__PURE__*/_jsxDEV(Controls.Input, {\n        label: \"Search\",\n        className: classes.searchInput,\n        InputProps: {\n          startAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n            position: \"start\",\n            children: /*#__PURE__*/_jsxDEV(Search, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 15\n          }, this)\n        },\n        onChange: handleSearch\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TblContainer, {\n        children: [/*#__PURE__*/_jsxDEV(TblHead, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n          children: recordsAfterPagingAndSorting().map(function (item) {\n            return /*#__PURE__*/_jsxDEV(TableRow, {\n              children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                children: item.customer_code\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: item.customer_name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: item.freshness_requirement\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: item.freshness_unit\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: item.customer_category\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: item.status == 1 ? /*#__PURE__*/_jsxDEV(CheckCircleIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 221,\n                  columnNumber: 21\n                }, _this) : /*#__PURE__*/_jsxDEV(RadioButtonUncheckedRoundedIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 223,\n                  columnNumber: 21\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: [/*#__PURE__*/_jsxDEV(Controls.ActionButton, {\n                  color: \"primary\",\n                  onClick: function onClick() {\n                    openInPopup(item);\n                  },\n                  children: /*#__PURE__*/_jsxDEV(EditOutlinedIcon, {\n                    fontSize: \"small\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 234,\n                    columnNumber: 21\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 228,\n                  columnNumber: 19\n                }, _this), /*#__PURE__*/_jsxDEV(Controls.ActionButton, {\n                  color: \"secondary\",\n                  onClick: function onClick() {\n                    DelopenHandlerDialog(item);\n                  },\n                  children: /*#__PURE__*/_jsxDEV(CloseIcon, {\n                    fontSize: \"small\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 242,\n                    columnNumber: 21\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 236,\n                  columnNumber: 19\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 17\n              }, _this)]\n            }, item.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 15\n            }, _this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TblPagination, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PopDialog, {\n      title: \"Delete Customer\",\n      description: \"Are you sure do want to delete Supplier code \" + captionDialog,\n      openDialog: openDialog,\n      setOpenDialog: setOpenDialog,\n      children: /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          onClick: removeItem,\n          color: \"primary\",\n          autoFocus: true,\n          children: \"Agree\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Popup, {\n      title: \"Customer Form\",\n      openPopup: openPopup,\n      setOpenPopup: setOpenPopup,\n      children: /*#__PURE__*/_jsxDEV(CustomerForm, {\n        recordForEdit: recordForEdit,\n        addOrEdit: onSubmit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(index, \"O88r9VCRkFXzJVQWXFeQRTiTYXY=\", false, function () {\n  return [useStyles, useTable];\n});","map":{"version":3,"sources":["C:/Users/Rowen/Desktop/expo/fscit-nextjs/pages/warehouse-management/customer/index.js"],"names":["React","useState","useEffect","DataGrid","Typography","Breadcrumbs","Link","Paper","makeStyles","TableBody","TableRow","TableCell","Toolbar","InputAdornment","Button","TextField","Grid","Checkbox","ListItemText","DialogActions","Popup","PageHeader","PeopleAltTwoTone","PeopleOutlineTwoToneIcon","CustomerForm","EditOutlinedIcon","CloseIcon","Controls","useTable","Search","CheckCircleIcon","RadioButtonUncheckedRoundedIcon","AddIcon","axios","api","PopDialog","useStyles","theme","root","width","margin","spacing","pageContent","padding","searchInput","height","newButton","position","right","index","classes","recordForEdit","setRecordForEdit","recordForRemove","setRecordForRemove","listrecordData","setlistRecordData","fn","items","filterFn","setFilterFn","openDialog","setOpenDialog","openPopup","setOpenPopup","captionDialog","setCaptionDialog","headCells","id","label","disableSorting","TblContainer","TblHead","TblPagination","recordsAfterPagingAndSorting","DelopenHandlerDialog","item","customer_code","removeItem","instance","then","resp","console","log","data","refreshListData","err","handleSearch","e","target","value","filter","x","toLowerCase","includes","customer_name","customer_category","onSubmit","values","resetForm","post","put","openInPopup","utoken","localStorage","getItem","get","headers","Authorization","Accept","startAdornment","map","freshness_requirement","freshness_unit","status"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { DataGrid } from \"@material-ui/data-grid\";\r\n\r\nimport {\r\n  Typography,\r\n  Breadcrumbs,\r\n  Link,\r\n  Paper,\r\n  makeStyles,\r\n  TableBody,\r\n  TableRow,\r\n  TableCell,\r\n  Toolbar,\r\n  InputAdornment,\r\n  Button,\r\n  TextField,\r\n  Grid,\r\n  Checkbox,\r\n  ListItemText,\r\n  DialogActions,\r\n} from \"@material-ui/core\";\r\n\r\nimport Popup from \"../../../components/Popup\";\r\nimport PageHeader from \"../../../components/PageHeader\";\r\nimport { PeopleAltTwoTone, PeopleOutlineTwoToneIcon } from \"@material-ui/icons\";\r\nimport CustomerForm from \"./CustomerForm\";\r\nimport EditOutlinedIcon from \"@material-ui/icons/EditOutlined\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport Controls from \"../../../components/controls/Controls\";\r\nimport useTable from \"../../../components/useTable\";\r\nimport { Search } from \"@material-ui/icons\";\r\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\r\nimport RadioButtonUncheckedRoundedIcon from \"@material-ui/icons/RadioButtonUncheckedRounded\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport axios from \"axios\";\r\nimport api from \"../../../Services/api\";\r\nimport PopDialog from \"../../../components/PopDialog\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    \"& .MuiFormControl-root\": {\r\n      width: \"80%\",\r\n      margin: theme.spacing(1),\r\n    },\r\n  },\r\n  pageContent: {\r\n    margin: theme.spacing(5),\r\n    padding: theme.spacing(2),\r\n  },\r\n  searchInput: {\r\n    width: \"50%\",\r\n    height: 40,\r\n  },\r\n\r\n  newButton: {\r\n    position: \"absolute\",\r\n    right: \"36px\",\r\n  },\r\n}));\r\nexport default function index() {\r\n  const classes = useStyles();\r\n  const [recordForEdit, setRecordForEdit] = useState(null);\r\n  const [recordForRemove, setRecordForRemove] = useState(null);\r\n  const [listrecordData, setlistRecordData] = useState([]);\r\n  const [filterFn, setFilterFn] = useState({\r\n    fn: (items) => {\r\n      return items;\r\n    },\r\n  });\r\n  const [openDialog, setOpenDialog] = useState(false);\r\n  const [openPopup, setOpenPopup] = useState(false);\r\n  const [captionDialog, setCaptionDialog] = useState(\"\");\r\n  const headCells = [\r\n    { id: \"customer_code\", label: \"Customer Code\" },\r\n    { id: \"customer_name\", label: \"Customer Name\" },\r\n    { id: \"freshness_requirement\", label: \"Freshness requirement\" },\r\n    { id: \"freshness_unit\", label: \"Freshness Unit\" },\r\n    { id: \"customer_category\", label: \"Category\" },\r\n    { id: \"status\", label: \"Status\" },\r\n    { id: \"actions\", label: \"Actions\", disableSorting: true },\r\n  ];\r\n\r\n  const { TblContainer, TblHead, TblPagination, recordsAfterPagingAndSorting } =\r\n    useTable(listrecordData, headCells, filterFn);\r\n\r\n  const DelopenHandlerDialog = (item) => {\r\n    setRecordForRemove(item);\r\n    setCaptionDialog(item.customer_code);\r\n    setOpenDialog(true);\r\n  };\r\n  const removeItem = () => {\r\n    api.instance\r\n      .delete(\"/wms/customer/customer-destroy/\" + recordForRemove.id)\r\n      .then((resp) => {\r\n        console.log(resp.data);\r\n        refreshListData();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n    setOpenDialog(false);\r\n  };\r\n  const handleSearch = (e) => {\r\n    let target = e.target;\r\n    setFilterFn({\r\n      fn: (items) => {\r\n        if (target.value == \"\") return items;\r\n        else\r\n          return items.filter(\r\n            (x) =>\r\n              x.customer_code.toLowerCase().includes(target.value) ||\r\n              x.customer_name.toLowerCase().includes(target.value) ||\r\n              x.customer_category.toLowerCase().includes(target.value)\r\n          );\r\n      },\r\n    });\r\n  };\r\n  const onSubmit = (values, resetForm) => {\r\n    if (values.id == 0)\r\n      api.instance\r\n        .post(\"/wms/customer/customer-store\", values)\r\n        .then((resp) => {\r\n          console.log(resp.data);\r\n          refreshListData();\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    else {\r\n      api.instance\r\n        .put(\"/wms/customer/customer-update/\" + values.id, values)\r\n        .then((resp) => {\r\n          console.log(resp.data);\r\n          refreshListData();\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n    resetForm();\r\n    setRecordForEdit(null);\r\n    setOpenPopup(false);\r\n  };\r\n\r\n  const openInPopup = (item) => {\r\n    setRecordForEdit(item);\r\n    setOpenPopup(true);\r\n  };\r\n  const refreshListData = () => {\r\n    const utoken = localStorage.getItem(\"token\");\r\n    api.instance\r\n      .get(\"/wms/customer/customer-list\", {\r\n        headers: {\r\n          Authorization: `Bearer ${utoken}`,\r\n          Accept: \"application/json\",\r\n        },\r\n      })\r\n\r\n      .then((resp) => {\r\n        setlistRecordData(resp.data);\r\n        console.log(resp.data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err.data);\r\n      });\r\n  };\r\n  useEffect(() => {\r\n    refreshListData();\r\n  }, []);\r\n  return (\r\n    <>\r\n      <Breadcrumbs aria-label=\"breadcrumb\">\r\n        <Link color=\"inherit\" href=\"/\">\r\n          Home\r\n        </Link>\r\n        <Link color=\"inherit\" href=\"/warehouse-management/\">\r\n          Warehouse Management\r\n        </Link>\r\n        <Typography color=\"textPrimary\">Customer Master</Typography>\r\n      </Breadcrumbs>\r\n\r\n      <div>\r\n        <Toolbar>\r\n          <Controls.Button\r\n            text=\"Add New\"\r\n            startIcon={<AddIcon />}\r\n            className={classes.newButton}\r\n            onClick={() => {\r\n              setOpenPopup(true);\r\n              setRecordForEdit(null);\r\n            }}\r\n          />\r\n        </Toolbar>\r\n      </div>\r\n\r\n      <Paper className={classes.pageContent}>\r\n        <Controls.Input\r\n          label=\"Search\"\r\n          className={classes.searchInput}\r\n          InputProps={{\r\n            startAdornment: (\r\n              <InputAdornment position=\"start\">\r\n                <Search />\r\n              </InputAdornment>\r\n            ),\r\n          }}\r\n          onChange={handleSearch}\r\n        />\r\n        <TblContainer>\r\n          <TblHead />\r\n          <TableBody>\r\n            {recordsAfterPagingAndSorting().map((item) => (\r\n              <TableRow key={item.id}>\r\n                <TableCell>{item.customer_code}</TableCell>\r\n                <TableCell>{item.customer_name}</TableCell>\r\n                <TableCell>{item.freshness_requirement}</TableCell>\r\n                <TableCell>{item.freshness_unit}</TableCell>\r\n                <TableCell>{item.customer_category}</TableCell>\r\n                <TableCell>\r\n                  {item.status == 1 ? (\r\n                    <CheckCircleIcon />\r\n                  ) : (\r\n                    <RadioButtonUncheckedRoundedIcon />\r\n                  )}\r\n                </TableCell>\r\n\r\n                <TableCell>\r\n                  <Controls.ActionButton\r\n                    color=\"primary\"\r\n                    onClick={() => {\r\n                      openInPopup(item);\r\n                    }}\r\n                  >\r\n                    <EditOutlinedIcon fontSize=\"small\" />\r\n                  </Controls.ActionButton>\r\n                  <Controls.ActionButton\r\n                    color=\"secondary\"\r\n                    onClick={() => {\r\n                      DelopenHandlerDialog(item);\r\n                    }}\r\n                  >\r\n                    <CloseIcon fontSize=\"small\" />\r\n                  </Controls.ActionButton>\r\n                </TableCell>\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </TblContainer>\r\n        <TblPagination />\r\n      </Paper>\r\n      <PopDialog\r\n        title=\"Delete Customer\"\r\n        description={\r\n          \"Are you sure do want to delete Supplier code \" + captionDialog\r\n        }\r\n        openDialog={openDialog}\r\n        setOpenDialog={setOpenDialog}\r\n      >\r\n        <DialogActions>\r\n          {/* <Button color=\"primary\">Disagree</Button> */}\r\n          <Button onClick={removeItem} color=\"primary\" autoFocus>\r\n            Agree\r\n          </Button>\r\n        </DialogActions>\r\n      </PopDialog>\r\n\r\n      <Popup\r\n        title=\"Customer Form\"\r\n        openPopup={openPopup}\r\n        setOpenPopup={setOpenPopup}\r\n      >\r\n        <CustomerForm recordForEdit={recordForEdit} addOrEdit={onSubmit} />\r\n      </Popup>\r\n    </>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}