{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Rowen\\\\Desktop\\\\expo\\\\fscit-nextjs\\\\pages\\\\warehouse-management\\\\warehouse-users\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { DataGrid } from \"@material-ui/data-grid\";\nimport { Typography, Breadcrumbs, Link, Paper, makeStyles, TableBody, TableRow, TableCell, Toolbar, InputAdornment, Button, TextField, Grid, Checkbox, ListItemText, DialogActions } from \"@material-ui/core\";\nimport Popup from \"../../../components/Popup\";\nimport PageHeader from \"../../../components/PageHeader\";\nimport InsertEmoticonOutlined from \"@material-ui/icons\";\nimport PeopleAltTwoTone from \"@material-ui/icons/PeopleAltTwoTone\";\nimport EditOutlinedIcon from \"@material-ui/icons/EditOutlined\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Controls from \"../../../components/controls/Controls\";\nimport useTable from \"../../../components/useTable\";\nimport { Search } from \"@material-ui/icons\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport RadioButtonUncheckedRoundedIcon from \"@material-ui/icons/RadioButtonUncheckedRounded\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport axios from \"axios\";\nimport api from \"../../../Services/api\";\nimport PopDialog from \"../../../components/PopDialog\";\nimport WareHouseUserForm from \"./WareHouseUserForm\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      \"& .MuiFormControl-root\": {\n        width: \"80%\",\n        margin: theme.spacing(1)\n      }\n    },\n    pageContent: {\n      margin: theme.spacing(5),\n      padding: theme.spacing(2)\n    },\n    searchInput: {\n      width: \"50%\",\n      height: 40\n    },\n    newButton: {\n      position: \"absolute\",\n      right: \"35px\"\n    }\n  };\n});\nexport default function index() {\n  _s();\n\n  var _this = this;\n\n  var classes = useStyles();\n\n  var _useState = useState(null),\n      recordForEdit = _useState[0],\n      setRecordForEdit = _useState[1];\n\n  var _useState2 = useState(null),\n      recordForRemove = _useState2[0],\n      setRecordForRemove = _useState2[1];\n\n  var _useState3 = useState([]),\n      listrecordData = _useState3[0],\n      setlistRecordData = _useState3[1];\n\n  var _useState4 = useState({\n    fn: function fn(items) {\n      return items;\n    }\n  }),\n      filterFn = _useState4[0],\n      setFilterFn = _useState4[1];\n\n  var _useState5 = useState(false),\n      openDialog = _useState5[0],\n      setOpenDialog = _useState5[1];\n\n  var _useState6 = useState(false),\n      openPopup = _useState6[0],\n      setOpenPopup = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      captionDialog = _useState7[0],\n      setCaptionDialog = _useState7[1];\n\n  var headCells = [{\n    id: \"warehouse_location\",\n    label: \"Warehouse location\"\n  }, {\n    id: \"warehouse_name\",\n    label: \"Warehouse Name\"\n  }, {\n    id: \"user_name\",\n    label: \"User Name\"\n  }, {\n    id: \"is_active\",\n    label: \"Active\"\n  }, {\n    id: \"actions\",\n    label: \"Actions\",\n    disableSorting: true\n  }];\n\n  var _useTable = useTable(listrecordData, headCells, filterFn),\n      TblContainer = _useTable.TblContainer,\n      TblHead = _useTable.TblHead,\n      TblPagination = _useTable.TblPagination,\n      recordsAfterPagingAndSorting = _useTable.recordsAfterPagingAndSorting;\n\n  var DelopenHandlerDialog = function DelopenHandlerDialog(item) {\n    setRecordForRemove(item);\n    setCaptionDialog(item.uom_code);\n    setOpenDialog(true);\n  };\n\n  var removeItem = function removeItem() {\n    api.instance[\"delete\"](\"/wms/warehouse/warehouse-user-destroy/\" + recordForRemove.id).then(function (resp) {\n      console.log(resp.data);\n      refreshListData();\n    })[\"catch\"](function (err) {\n      console.log(err);\n    });\n    setOpenDialog(false);\n  };\n\n  var handleSearch = function handleSearch(e) {\n    var target = e.target;\n    setFilterFn({\n      fn: function fn(items) {\n        if (target.value == \"\") return items;else return items.filter(function (x) {\n          return x.warehouse_location.toLowerCase().includes(target.value) || x.warehouse_name.toLowerCase().includes(target.value) || x.user_name.toLowerCase().includes(target.value);\n        });\n      }\n    });\n  };\n\n  var onSubmit = function onSubmit(values, resetForm) {\n    if (values.id == 0) api.instance.post(\"/wms/warehouse/warehouse-user-store\", values).then(function (resp) {\n      console.log(resp.data);\n      refreshListData();\n    })[\"catch\"](function (err) {\n      console.log(err);\n    });else {\n      api.instance.put(\"/wms/warehouse/warehouse-user-update/\" + values.id, values).then(function (resp) {\n        console.log(resp.data);\n        refreshListData();\n      })[\"catch\"](function (err) {\n        console.log(err);\n      });\n    }\n    resetForm();\n    setRecordForEdit(null);\n    setOpenPopup(false);\n  };\n\n  var openInPopup = function openInPopup(item) {\n    setRecordForEdit(item);\n    setOpenPopup(true);\n  };\n\n  var refreshListData = function refreshListData() {\n    api.instance.get(\"/wms/warehouse/warehouse-user-list\").then(function (resp) {\n      setlistRecordData(resp.data);\n      console.log(resp.data);\n    })[\"catch\"](function (err) {\n      console.log(err.data);\n    });\n  };\n\n  useEffect(function () {\n    refreshListData();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Breadcrumbs, {\n      \"aria-label\": \"breadcrumb\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        color: \"inherit\",\n        href: \"/\",\n        children: \"Home\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        color: \"inherit\",\n        href: \"/warehouse-management/\",\n        children: \"Warehouse Management\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        color: \"textPrimary\",\n        children: \"Warehouse User\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Toolbar, {\n        children: /*#__PURE__*/_jsxDEV(Controls.Button, {\n          text: \"Add New\",\n          startIcon: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 24\n          }, this),\n          className: classes.newButton,\n          onClick: function onClick() {\n            setOpenPopup(true);\n            setRecordForEdit(null);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Controls.Input, {\n      label: \"Search\",\n      className: classes.searchInput,\n      InputProps: {\n        startAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n          position: \"start\",\n          children: /*#__PURE__*/_jsxDEV(Search, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 13\n        }, this)\n      },\n      onChange: handleSearch\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Paper, {\n      className: classes.pageContent,\n      children: [/*#__PURE__*/_jsxDEV(TblContainer, {\n        children: [/*#__PURE__*/_jsxDEV(TblHead, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n          children: recordsAfterPagingAndSorting().map(function (item) {\n            return /*#__PURE__*/_jsxDEV(TableRow, {\n              children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                children: item.warehouse_location\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: item.warehouse_name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: item.user_name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: item.is_active == 1 ? /*#__PURE__*/_jsxDEV(CheckCircleIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 211,\n                  columnNumber: 21\n                }, _this) : /*#__PURE__*/_jsxDEV(RadioButtonUncheckedRoundedIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 21\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: [/*#__PURE__*/_jsxDEV(Controls.ActionButton, {\n                  color: \"primary\",\n                  onClick: function onClick() {\n                    openInPopup(item);\n                  },\n                  children: /*#__PURE__*/_jsxDEV(EditOutlinedIcon, {\n                    fontSize: \"small\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 223,\n                    columnNumber: 21\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 217,\n                  columnNumber: 19\n                }, _this), /*#__PURE__*/_jsxDEV(Controls.ActionButton, {\n                  color: \"secondary\",\n                  onClick: function onClick() {\n                    DelopenHandlerDialog(item);\n                  },\n                  children: /*#__PURE__*/_jsxDEV(DeleteIcon, {\n                    fontSize: \"small\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 231,\n                    columnNumber: 21\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 19\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 17\n              }, _this)]\n            }, item.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 15\n            }, _this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TblPagination, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PopDialog, {\n      title: \"Delete UOM\",\n      description: \"Are you sure do want to delete UOM \" + captionDialog,\n      openDialog: openDialog,\n      setOpenDialog: setOpenDialog,\n      children: /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          onClick: removeItem,\n          color: \"primary\",\n          autoFocus: true,\n          children: \"Agree\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Popup, {\n      title: \"Warehouse User Form\",\n      openPopup: openPopup,\n      setOpenPopup: setOpenPopup,\n      children: /*#__PURE__*/_jsxDEV(WareHouseUserForm, {\n        recordForEdit: recordForEdit,\n        addOrEdit: onSubmit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(index, \"O88r9VCRkFXzJVQWXFeQRTiTYXY=\", false, function () {\n  return [useStyles, useTable];\n});","map":{"version":3,"sources":["C:/Users/Rowen/Desktop/expo/fscit-nextjs/pages/warehouse-management/warehouse-users/index.js"],"names":["React","useState","useEffect","DataGrid","Typography","Breadcrumbs","Link","Paper","makeStyles","TableBody","TableRow","TableCell","Toolbar","InputAdornment","Button","TextField","Grid","Checkbox","ListItemText","DialogActions","Popup","PageHeader","InsertEmoticonOutlined","PeopleAltTwoTone","EditOutlinedIcon","CloseIcon","Controls","useTable","Search","CheckCircleIcon","RadioButtonUncheckedRoundedIcon","AddIcon","axios","api","PopDialog","WareHouseUserForm","DeleteIcon","useStyles","theme","root","width","margin","spacing","pageContent","padding","searchInput","height","newButton","position","right","index","classes","recordForEdit","setRecordForEdit","recordForRemove","setRecordForRemove","listrecordData","setlistRecordData","fn","items","filterFn","setFilterFn","openDialog","setOpenDialog","openPopup","setOpenPopup","captionDialog","setCaptionDialog","headCells","id","label","disableSorting","TblContainer","TblHead","TblPagination","recordsAfterPagingAndSorting","DelopenHandlerDialog","item","uom_code","removeItem","instance","then","resp","console","log","data","refreshListData","err","handleSearch","e","target","value","filter","x","warehouse_location","toLowerCase","includes","warehouse_name","user_name","onSubmit","values","resetForm","post","put","openInPopup","get","startAdornment","map","is_active"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { DataGrid } from \"@material-ui/data-grid\";\r\n\r\nimport {\r\n  Typography,\r\n  Breadcrumbs,\r\n  Link,\r\n  Paper,\r\n  makeStyles,\r\n  TableBody,\r\n  TableRow,\r\n  TableCell,\r\n  Toolbar,\r\n  InputAdornment,\r\n  Button,\r\n  TextField,\r\n  Grid,\r\n  Checkbox,\r\n  ListItemText,\r\n  DialogActions,\r\n} from \"@material-ui/core\";\r\n\r\nimport Popup from \"../../../components/Popup\";\r\nimport PageHeader from \"../../../components/PageHeader\";\r\nimport InsertEmoticonOutlined from \"@material-ui/icons\";\r\nimport PeopleAltTwoTone from \"@material-ui/icons/PeopleAltTwoTone\";\r\nimport EditOutlinedIcon from \"@material-ui/icons/EditOutlined\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport Controls from \"../../../components/controls/Controls\";\r\nimport useTable from \"../../../components/useTable\";\r\nimport { Search } from \"@material-ui/icons\";\r\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\r\nimport RadioButtonUncheckedRoundedIcon from \"@material-ui/icons/RadioButtonUncheckedRounded\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport axios from \"axios\";\r\nimport api from \"../../../Services/api\";\r\nimport PopDialog from \"../../../components/PopDialog\";\r\nimport WareHouseUserForm from \"./WareHouseUserForm\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    \"& .MuiFormControl-root\": {\r\n      width: \"80%\",\r\n      margin: theme.spacing(1),\r\n    },\r\n  },\r\n  pageContent: {\r\n    margin: theme.spacing(5),\r\n    padding: theme.spacing(2),\r\n  },\r\n  searchInput: {\r\n    width: \"50%\",\r\n    height: 40,\r\n  },\r\n\r\n  newButton: {\r\n    position: \"absolute\",\r\n    right: \"35px\",\r\n  },\r\n}));\r\nexport default function index() {\r\n  const classes = useStyles();\r\n  const [recordForEdit, setRecordForEdit] = useState(null);\r\n  const [recordForRemove, setRecordForRemove] = useState(null);\r\n  const [listrecordData, setlistRecordData] = useState([]);\r\n  const [filterFn, setFilterFn] = useState({\r\n    fn: (items) => {\r\n      return items;\r\n    },\r\n  });\r\n  const [openDialog, setOpenDialog] = useState(false);\r\n  const [openPopup, setOpenPopup] = useState(false);\r\n  const [captionDialog, setCaptionDialog] = useState(\"\");\r\n  const headCells = [\r\n    { id: \"warehouse_location\", label: \"Warehouse location\" },\r\n    { id: \"warehouse_name\", label: \"Warehouse Name\" },\r\n    { id: \"user_name\", label: \"User Name\" },\r\n    { id: \"is_active\", label: \"Active\" },\r\n    { id: \"actions\", label: \"Actions\", disableSorting: true },\r\n  ];\r\n\r\n  const { TblContainer, TblHead, TblPagination, recordsAfterPagingAndSorting } =\r\n    useTable(listrecordData, headCells, filterFn);\r\n\r\n  const DelopenHandlerDialog = (item) => {\r\n    setRecordForRemove(item);\r\n    setCaptionDialog(item.uom_code);\r\n    setOpenDialog(true);\r\n  };\r\n  const removeItem = () => {\r\n    api.instance\r\n      .delete(\"/wms/warehouse/warehouse-user-destroy/\" + recordForRemove.id)\r\n      .then((resp) => {\r\n        console.log(resp.data);\r\n        refreshListData();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n    setOpenDialog(false);\r\n  };\r\n  const handleSearch = (e) => {\r\n    let target = e.target;\r\n    setFilterFn({\r\n      fn: (items) => {\r\n        if (target.value == \"\") return items;\r\n        else\r\n          return items.filter(\r\n            (x) =>\r\n              x.warehouse_location.toLowerCase().includes(target.value) ||\r\n              x.warehouse_name.toLowerCase().includes(target.value) ||\r\n              x.user_name.toLowerCase().includes(target.value)\r\n          );\r\n      },\r\n    });\r\n  };\r\n  const onSubmit = (values, resetForm) => {\r\n    if (values.id == 0)\r\n      api.instance\r\n        .post(\"/wms/warehouse/warehouse-user-store\", values)\r\n        .then((resp) => {\r\n          console.log(resp.data);\r\n          refreshListData();\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    else {\r\n      api.instance\r\n        .put(\"/wms/warehouse/warehouse-user-update/\" + values.id, values)\r\n        .then((resp) => {\r\n          console.log(resp.data);\r\n          refreshListData();\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n    resetForm();\r\n    setRecordForEdit(null);\r\n    setOpenPopup(false);\r\n  };\r\n\r\n  const openInPopup = (item) => {\r\n    setRecordForEdit(item);\r\n    setOpenPopup(true);\r\n  };\r\n  const refreshListData = () => {\r\n    api.instance\r\n      .get(\"/wms/warehouse/warehouse-user-list\")\r\n\r\n      .then((resp) => {\r\n        setlistRecordData(resp.data);\r\n        console.log(resp.data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err.data);\r\n      });\r\n  };\r\n  useEffect(() => {\r\n    refreshListData();\r\n  }, []);\r\n  return (\r\n    <>\r\n      <Breadcrumbs aria-label=\"breadcrumb\">\r\n        <Link color=\"inherit\" href=\"/\">\r\n          Home\r\n        </Link>\r\n        <Link color=\"inherit\" href=\"/warehouse-management/\">\r\n          Warehouse Management\r\n        </Link>\r\n        <Typography color=\"textPrimary\">Warehouse User</Typography>\r\n      </Breadcrumbs>\r\n      <div>\r\n        <Toolbar>\r\n          <Controls.Button\r\n            text=\"Add New\"\r\n            startIcon={<AddIcon />}\r\n            className={classes.newButton}\r\n            onClick={() => {\r\n              setOpenPopup(true);\r\n              setRecordForEdit(null);\r\n            }}\r\n          />\r\n        </Toolbar>\r\n      </div>\r\n    \r\n      <Controls.Input\r\n        label=\"Search\"\r\n        className={classes.searchInput}\r\n        InputProps={{\r\n          startAdornment: (\r\n            <InputAdornment position=\"start\">\r\n              <Search />\r\n            </InputAdornment>\r\n          ),\r\n        }}\r\n        onChange={handleSearch}\r\n      />\r\n      <Paper className={classes.pageContent}>\r\n        <TblContainer>\r\n          <TblHead />\r\n          <TableBody>\r\n            {recordsAfterPagingAndSorting().map((item) => (\r\n              <TableRow key={item.id}>\r\n                <TableCell>{item.warehouse_location}</TableCell>\r\n                <TableCell>{item.warehouse_name}</TableCell>\r\n                <TableCell>{item.user_name}</TableCell>\r\n                <TableCell>\r\n                  {item.is_active == 1 ? (\r\n                    <CheckCircleIcon />\r\n                  ) : (\r\n                    <RadioButtonUncheckedRoundedIcon />\r\n                  )}\r\n                </TableCell>\r\n                <TableCell>\r\n                  <Controls.ActionButton\r\n                    color=\"primary\"\r\n                    onClick={() => {\r\n                      openInPopup(item);\r\n                    }}\r\n                  >\r\n                    <EditOutlinedIcon fontSize=\"small\" />\r\n                  </Controls.ActionButton>\r\n                  <Controls.ActionButton\r\n                    color=\"secondary\"\r\n                    onClick={() => {\r\n                      DelopenHandlerDialog(item);\r\n                    }}\r\n                  >\r\n                    <DeleteIcon fontSize=\"small\" />\r\n                  </Controls.ActionButton>\r\n                </TableCell>\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </TblContainer>\r\n        <TblPagination />\r\n      </Paper>\r\n      <PopDialog\r\n        title=\"Delete UOM\"\r\n        description={\"Are you sure do want to delete UOM \" + captionDialog}\r\n        openDialog={openDialog}\r\n        setOpenDialog={setOpenDialog}\r\n      >\r\n        <DialogActions>\r\n          <Button onClick={removeItem} color=\"primary\" autoFocus>\r\n            Agree\r\n          </Button>\r\n        </DialogActions>\r\n      </PopDialog>\r\n\r\n      <Popup\r\n        title=\"Warehouse User Form\"\r\n        openPopup={openPopup}\r\n        setOpenPopup={setOpenPopup}\r\n      >\r\n        <WareHouseUserForm recordForEdit={recordForEdit} addOrEdit={onSubmit} />\r\n      </Popup>\r\n    </>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}